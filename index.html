<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<form action="" id="form">
		<label>邮箱地址：<input type="text" id="address"></label>
		<label>联系人：<input type="text" id="contact"></label>
		<input type="submit" name="提交" id="submit">
	</form>
	<script src="jquery.js"></script>
	<script>
		function Page() {
			this.submitBtn = $("#submit");
			this.addressElem = $("#address");
			this.contactElem = $("#contact");
			this.formElem = $("#form");
		}

		$.extend(Page.prototype, {

			init: function() {
				this.resetForData();
				this.bindEvents();
			},

			bindEvents: function() {
				this.submitBtn.on("click", $.proxy(this.handleSubmit, this));
			},

			resetForData: function() {
				try{
					if(localStorage.address) {
						this.addressElem.val(localStorage.address);
					}
					if(localStorage.contact) {
						this.contactElem.val(localStorage.contact);
					}
				}catch(e){}
			},

			handleSubmit: function(e) {
				e.preventDefault();
				var address = this.addressElem.val(),
					contact = this.contactElem.val();
				if(address && contact) {

					try{
						window.localStorage.address = address;
						window.localStorage.contact = contact;
					}catch(e) {}
					
					return true;
				}else {
					alert("提交有误");
					return false;
				}

			}
		})
		var page = new Page();
		page.init();
	</script>
</body>
</html>